---
description: Tests ship with code; unit first, then integration; mock externals; fast & deterministic; bunx/bun preferred.
globs:
alwaysApply: true
---

# Testing
- Add/update tests with code: unit first; integration when relevant.
- Cover happy path **and** key edge cases.
- Mock external services unless explicitly testing them.
- Keep tests fast & deterministic (prefer **bunx/bun**).
- Tests pass; lints & type checks clean before completion.

## Example
- Given a repository service, mock network I/O and assert retries/backoff; include a failing-API test and a timeout test.
